import{u as l,w as p}from"./chunk-UHNCRVEK.js";import{T as c,Y as d,h}from"./chunk-GYUG5PKY.js";var r=p.base_url+"/barrios",k=(()=>{class a{get getToken(){return{Authorization:localStorage.getItem("token")}}constructor(t){this.http=t,this.estadoAbm="crear",this.showModalAbm=!1,this.barrios=[],this.barrioSeleccionado=null,this.abmForm={descripcion:""}}getBarrio(t){return this.http.get(`${r}/${t}`,{headers:this.getToken})}getBarrioConCoordenadas(t){return this.http.get(`${r}/${t}/coordenadas`,{headers:this.getToken})}getAllConCoordenadas(){return this.http.get(`${r}/mapa/coordenadas/general`,{headers:this.getToken})}listarBarrios({direccion:t="desc",columna:e="descripcion",activo:o="",parametro:s="",pagina:n=1,itemsPorPagina:i=1e4}){return this.http.get(r,{params:{direccion:String(t),columna:e,activo:o,parametro:s,pagina:n,itemsPorPagina:i},headers:this.getToken})}nuevoBarrio(t){return this.http.post(r,t,{headers:this.getToken})}actualizarBarrio(t,e){return this.http.patch(`${r}/${t}`,e,{headers:this.getToken})}importarKml(t){return new h(e=>{let o=new FileReader;o.onload=s=>{let n=s.target?.result;this.http.post(`${r}/importar-kml`,{kmlData:n},{headers:this.getToken}).subscribe({next:i=>e.next(i),error:i=>e.error(i)})},o.readAsText(t)})}abrirAbm(t,e=null){this.estadoAbm=t,this.barrioSeleccionado=e,this.showModalAbm=!0,t==="editar"&&e?this.abmForm={descripcion:e.descripcion}:this.abmForm={descripcion:""}}cerrarAbm(){this.showModalAbm=!1,this.barrioSeleccionado=null,this.abmForm={descripcion:""}}actualizarEstado(t,e){return this.http.patch(`${r}/${t}/estado`,{activo:e},{headers:this.getToken})}delete(t){return this.http.delete(`${r}/${t}`,{headers:this.getToken})}reactivar(t){return this.http.patch(`${r}/${t}/reactivar`,{},{headers:this.getToken})}actualizarCoordenadas(t,e){return this.http.patch(`${r}/coordenadas/${t}`,e,{headers:this.getToken})}static{this.\u0275fac=function(e){return new(e||a)(d(l))}}static{this.\u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();export{k as a};
