import{a as z}from"./chunk-TIL2E3OS.js";import{a as U,b as m,c as T,d as L,g as q,h as R,i as A,j as D,k as j,l as M,o as k,q as O}from"./chunk-3IXDAJZQ.js";import{a as V}from"./chunk-VUVQYZVZ.js";import{a as G}from"./chunk-5QPYTDH3.js";import{a as B}from"./chunk-HZWOLOZV.js";import{g as N,h as I,k as F}from"./chunk-LRQMHJK3.js";import{m as S,p as C}from"./chunk-PL2ZQQHO.js";import{Ab as f,Kb as i,Mb as c,Nb as w,Tb as y,Ua as n,Va as g,ga as _,ib as s,kb as a,qb as o,rb as r,sa as E,sb as d,ta as x,zb as h}from"./chunk-DRQLPHCS.js";function J(t,u){t&1&&(o(0,"p",38),i(1," Campo obligatorio "),r())}function K(t,u){if(t&1&&(o(0,"p",38),i(1),r()),t&2){let l=f();n(),c(" M\xEDnimo ",l.usuario==null||l.usuario.errors==null?null:l.usuario.errors.minlength.requiredLength," caracteres ")}}function P(t,u){t&1&&(o(0,"p",38),i(1," Campo obligatorio "),r())}function Q(t,u){t&1&&(o(0,"p",38),i(1," Debe colocar un email v\xE1lido "),r())}function W(t,u){t&1&&(o(0,"p",38),i(1," Campo obligatorio "),r())}function X(t,u){t&1&&(o(0,"p",38),i(1," Campo obligatorio "),r())}function Y(t,u){t&1&&(o(0,"p",38),i(1," Campo obligatorio "),r())}function Z(t,u){t&1&&(o(0,"p",38),i(1," Campo obligatorio "),r())}function $(t,u){if(t&1&&(o(0,"p",38),i(1),r()),t&2){let l=f();n(),c(" M\xEDnimo ",l.password==null||l.password.errors==null?null:l.password.errors.minlength.requiredLength," caracteres ")}}function ee(t,u){t&1&&(o(0,"p",38),i(1," Campo obligatorio "),r())}function re(t,u){if(t&1&&(o(0,"p",38),i(1),r()),t&2){let l=f();n(),c(" M\xEDnimo ",l.repetir==null||l.repetir.errors==null?null:l.repetir.errors.minlength.requiredLength," caracteres ")}}function te(t,u){t&1&&(o(0,"div",39)(1,"p",40),i(2,"A"),r()())}function ie(t,u){t&1&&(o(0,"div",41)(1,"p",40),i(2,"E"),r()())}function oe(t,u){t&1&&(o(0,"div",42)(1,"p",40),i(2,"En"),r()())}function ne(t,u){if(t&1&&(o(0,"p"),i(1),r()),t&2){let l=f();n(),c(" ",l.usuarioForm.value.usuario," ")}}function le(t,u){t&1&&(o(0,"p",43),i(1," Nombre de usuario "),r())}function ae(t,u){if(t&1&&(o(0,"p",44),i(1),r()),t&2){let l=f();n(),w(" ",l.usuarioForm.value.nombre.toLowerCase()," ",l.usuarioForm.value.apellido.toLowerCase()," ")}}function ue(t,u){t&1&&(o(0,"p",43),i(1," Apellido y Nombre "),r())}function me(t,u){if(t&1&&(o(0,"p"),i(1),r()),t&2){let l=f();n(),c(" ",l.usuarioForm.value.email.toLowerCase()," ")}}function se(t,u){t&1&&(o(0,"p"),i(1," Correo electr\xF3nico "),r())}var we=(()=>{class t{get usuario(){return this.usuarioForm.get("usuario")}get apellido(){return this.usuarioForm.get("apellido")}get nombre(){return this.usuarioForm.get("nombre")}get dni(){return this.usuarioForm.get("dni")}get email(){return this.usuarioForm.get("email")}get password(){return this.usuarioForm.get("password")}get repetir(){return this.usuarioForm.get("repetir")}get role(){return this.usuarioForm.get("role")}constructor(l,p,e,v,b){this.fb=l,this.router=p,this.usuariosService=e,this.alertService=v,this.dataService=b}ngOnInit(){G.from(".gsap-contenido",{y:100,opacity:0,duration:.2}),this.dataService.ubicacionActual="Dashboard - Creando usuario",this.usuarioForm=this.fb.group({usuario:["",[m.required,m.minLength(4)]],apellido:["",m.required],nombre:["",m.required],dni:["",m.required],email:["",[m.required,m.email]],password:["",[m.required,m.minLength(4)]],repetir:["",[m.required,m.minLength(4)]],role:["ADMIN_ROLE",m.required]})}nuevoUsuario(){let{role:l,password:p,repetir:e}=this.usuarioForm.value;if(p!==e){this.alertService.info("Las contrase\xF1as deben coincidir");return}this.usuarioForm.valid?this.alertService.question({msg:"Creando nuevo usuario",buttonText:"Aceptar"}).then(({isConfirmed:v})=>{if(v){this.alertService.loading();let b=this.usuarioForm.value;delete b.repetir,this.usuariosService.nuevoUsuario(this.usuarioForm.value).subscribe({next:()=>{l==="ADMIN_ROLE"?this.router.navigateByUrl("dashboard/usuarios"):this.router.navigateByUrl("dashboard/usuarios"),this.alertService.close()},error:({error:H})=>{this.alertService.errorApi(H.message)}})}}):this.usuarioForm.markAllAsTouched()}static{this.\u0275fac=function(p){return new(p||t)(g(k),g(N),g(z),g(V),g(B))}}static{this.\u0275cmp=_({type:t,selectors:[["app-nuevo-usuario"]],standalone:!0,features:[y],decls:94,vars:21,consts:[[1,"lg:flex","p-4","gsap-contenido","max-w-5xl","mx-auto"],[1,"w-full","lg:w-1/2","bg-white","mr-2","shadow-lg","rounded-lg","border","border-gray-200"],[1,"pb-2",3,"keydown.enter","formGroup"],[1,"flex","items-center","p-3","bg-gradient-to-r","from-gray-800","to-gray-700","rounded-t-lg"],["title","Regresar","routerLink","/dashboard/usuarios",1,"bg-white/10","hover:bg-white/20","text-white","rounded-full","p-3","transition-all","duration-300"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"size-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"ml-3","text-xl","font-semibold","text-white"],[1,"px-6","py-4","text-sm"],[1,"grid","lg:grid-cols-2","gap-4"],[1,"block","font-medium","text-gray-700","mb-1"],[1,"text-red-500"],["placeholder","Ej. lmoreno","formControlName","usuario",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["class","mt-1 text-sm text-red-600",4,"ngIf"],["type","email","placeholder","Ej. lucasmoreno@gmail.com","formControlName","email",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["placeholder","Ej. Moreno","formControlName","apellido",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["placeholder","Ej. Lucas","formControlName","nombre",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["placeholder","Ej. 34060398","formControlName","dni",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["formControlName","role",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","USER_ROLE"],["value","ENCUESTADOR_ROLE"],["value","ADMIN_ROLE"],["type","password","placeholder","******","formControlName","password","autocomplete","false",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["type","password","placeholder","******","formControlName","repetir","autocomplete","false",1,"w-full","px-4","py-2","rounded-lg","border","border-gray-300","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],[1,"w-full","mt-6","px-4","py-2","bg-emerald-500","text-white","font-medium","rounded-lg","hover:bg-emerald-600","focus:ring-4","focus:ring-emerald-200","transition-colors","duration-200",3,"click"],[1,"w-full","lg:w-1/2","mt-4","lg:mt-0","lg:ml-4"],[1,"bg-white","rounded-lg","shadow-lg","border","border-gray-200","p-6"],[1,"flex","items-start"],["class","bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center w-32 h-32 rounded-full shadow-lg",4,"ngIf"],["class","bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center w-32 h-32 rounded-full shadow-lg",4,"ngIf"],["class","bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center w-32 h-32 rounded-full shadow-lg",4,"ngIf"],[1,"ml-6","flex-1"],[1,"text-2xl","lg:text-3xl","font-semibold","text-gray-900"],[4,"ngIf"],["class","text-gray-400",4,"ngIf"],[1,"text-xl","lg:text-2xl","mt-2","text-gray-700"],["class","capitalize",4,"ngIf"],[1,"text-lg","mt-1","text-gray-500"],[1,"mt-1","text-sm","text-red-600"],[1,"bg-gradient-to-br","from-blue-500","to-blue-600","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow-lg"],[1,"text-6xl","font-bold","text-white"],[1,"bg-gradient-to-br","from-orange-500","to-orange-600","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow-lg"],[1,"bg-gradient-to-br","from-green-500","to-green-600","flex","items-center","justify-center","w-32","h-32","rounded-full","shadow-lg"],[1,"text-gray-400"],[1,"capitalize"]],template:function(p,e){p&1&&(o(0,"div",0)(1,"div",1)(2,"form",2),h("keydown.enter",function(b){return b.preventDefault()}),o(3,"div",3)(4,"button",4),E(),o(5,"svg",5),d(6,"path",6),r()(),x(),o(7,"h1",7),i(8,"Nuevo usuario"),r()(),o(9,"div",8)(10,"div",9)(11,"div")(12,"label",10)(13,"span",11),i(14,"*"),r(),i(15," Nombre de usuario "),r(),d(16,"input",12),s(17,J,2,0,"p",13)(18,K,2,1,"p",13),r(),o(19,"div")(20,"label",10)(21,"span",11),i(22,"*"),r(),i(23," Email "),r(),d(24,"input",14),s(25,P,2,0,"p",13)(26,Q,2,0,"p",13),r(),o(27,"div")(28,"label",10)(29,"span",11),i(30,"*"),r(),i(31," Apellido "),r(),d(32,"input",15),s(33,W,2,0,"p",13),r(),o(34,"div")(35,"label",10)(36,"span",11),i(37,"*"),r(),i(38," Nombre "),r(),d(39,"input",16),s(40,X,2,0,"p",13),r(),o(41,"div")(42,"label",10)(43,"span",11),i(44,"*"),r(),i(45," DNI "),r(),d(46,"input",17),s(47,Y,2,0,"p",13),r(),o(48,"div")(49,"label",10)(50,"span",11),i(51,"*"),r(),i(52," Rol "),r(),o(53,"select",18)(54,"option",19),i(55,"Usuario est\xE1ndar"),r(),o(56,"option",20),i(57,"Encuestador"),r(),o(58,"option",21),i(59,"Administrador"),r()()(),o(60,"div")(61,"label",10)(62,"span",11),i(63,"*"),r(),i(64," Contrase\xF1a "),r(),d(65,"input",22),s(66,Z,2,0,"p",13)(67,$,2,1,"p",13),r(),o(68,"div")(69,"label",10)(70,"span",11),i(71,"*"),r(),i(72," Repetir contrase\xF1a "),r(),d(73,"input",23),s(74,ee,2,0,"p",13)(75,re,2,1,"p",13),r()(),o(76,"button",24),h("click",function(){return e.nuevoUsuario()}),i(77," Crear usuario "),r()()()(),o(78,"div",25)(79,"div",26)(80,"div",27),s(81,te,3,0,"div",28)(82,ie,3,0,"div",29)(83,oe,3,0,"div",30),o(84,"div",31)(85,"div",32),s(86,ne,2,1,"p",33)(87,le,2,0,"p",34),r(),o(88,"div",35),s(89,ae,2,2,"p",36)(90,ue,2,0,"p",34),r(),o(91,"div",37),s(92,me,2,1,"p",33)(93,se,2,0,"p",33),r()()()()()()),p&2&&(n(2),a("formGroup",e.usuarioForm),n(15),a("ngIf",(e.usuario==null?null:e.usuario.touched)&&(e.usuario==null||e.usuario.errors==null?null:e.usuario.errors.required)),n(),a("ngIf",(e.usuario==null?null:e.usuario.touched)&&(e.usuario==null||e.usuario.errors==null?null:e.usuario.errors.minlength)),n(7),a("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null||e.email.errors==null?null:e.email.errors.required)),n(),a("ngIf",(e.email==null?null:e.email.touched)&&(e.email==null||e.email.errors==null?null:e.email.errors.email)),n(7),a("ngIf",(e.apellido==null?null:e.apellido.touched)&&(e.apellido==null||e.apellido.errors==null?null:e.apellido.errors.required)),n(7),a("ngIf",(e.nombre==null?null:e.nombre.touched)&&(e.nombre==null||e.nombre.errors==null?null:e.nombre.errors.required)),n(7),a("ngIf",(e.dni==null?null:e.dni.touched)&&(e.dni==null||e.dni.errors==null?null:e.dni.errors.required)),n(19),a("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null||e.password.errors==null?null:e.password.errors.required)),n(),a("ngIf",(e.password==null?null:e.password.touched)&&(e.password==null||e.password.errors==null?null:e.password.errors.minlength)),n(7),a("ngIf",(e.repetir==null?null:e.repetir.touched)&&(e.repetir==null||e.repetir.errors==null?null:e.repetir.errors.required)),n(),a("ngIf",(e.repetir==null?null:e.repetir.touched)&&(e.repetir==null||e.repetir.errors==null?null:e.repetir.errors.minlength)),n(6),a("ngIf",e.usuarioForm.value.role==="ADMIN_ROLE"),n(),a("ngIf",e.usuarioForm.value.role==="USER_ROLE"),n(),a("ngIf",e.usuarioForm.value.role==="ENCUESTADOR_ROLE"),n(3),a("ngIf",e.usuarioForm.value.usuario.trim()!==""),n(),a("ngIf",e.usuarioForm.value.usuario.trim()===""),n(2),a("ngIf",e.usuarioForm.value.nombre.trim()||e.usuarioForm.value.apellido.trim()),n(),a("ngIf",e.usuarioForm.value.nombre.trim()===""&&e.usuarioForm.value.apellido.trim()===""),n(2),a("ngIf",e.usuarioForm.value.email.trim()!==""),n(),a("ngIf",e.usuarioForm.value.email.trim()===""))},dependencies:[F,I,O,q,j,M,U,D,T,L,R,A,C,S],encapsulation:2})}}return t})();export{we as default};
