import{a as ge}from"./chunk-JG7STQLI.js";import{a as de}from"./chunk-J3BUK4MO.js";import{a as B}from"./chunk-F245QUT2.js";import{a as me}from"./chunk-TFEDABXG.js";import{a as pe}from"./chunk-AH66U6MF.js";import{a as G,c as R,f as U,j as le,k as ce,l as ue,p as N}from"./chunk-LNBIFSMN.js";import{a as O}from"./chunk-7ASKJ65C.js";import{a as H}from"./chunk-YESQC6II.js";import{e as re,g as ae,h as se,k as oe}from"./chunk-LIJZX7MQ.js";import{k as te,l as j,m as ie,n as ne,p as $,u as z,w as L}from"./chunk-UHNCRVEK.js";import{$ as A,Bb as s,Cb as y,Db as w,Eb as V,Fb as Z,Jb as F,Lb as ee,Ob as M,Qb as D,T as k,Ua as o,Va as f,Y as P,Ya as K,bb as X,cb as u,ea as h,fa as v,ga as g,ha as _,hb as S,ib as I,jb as T,kb as i,lb as n,mb as p,pb as b,ub as d,vb as c,zb as Y}from"./chunk-GYUG5PKY.js";var E=L.base_url+"/preguntas",q=(()=>{class a{get getToken(){return{Authorization:localStorage.getItem("token")}}constructor(e){this.http=e,this.abmPregunta={show:!1,estado:"crear",form:{descripcion:"",respuestas:[{descripcion:""},{descripcion:""}]},preguntaSeleccionada:null,encuestaSeleccionada:null},this.preguntas=[],this.total=0}abrirAbm(e,r=null,t=null){this.abmPregunta.estado=e,this.abmPregunta.preguntaSeleccionada=r,this.abmPregunta.encuestaSeleccionada=t,this.abmPregunta.show=!0,e==="editar"?(this.abmPregunta.form={descripcion:r.descripcion,respuestas:[]},this.abmPregunta.form.respuestas=r.Respuestas.map(l=>({descripcion:l.descripcion,id:l.id}))):this.abmPregunta.form={descripcion:"",respuestas:[{descripcion:""},{descripcion:""}]}}obtenerPregunta(e){return this.http.get(`${E}/${e}`,{headers:this.getToken})}listarPreguntas({direccion:e="desc",columna:r="id",parametro:t="",pagina:l=1,itemsPorPagina:x=1e6,estado:J=""}){return this.http.get(E,{params:{direccion:String(e),columna:r,parametro:t,pagina:l,itemsPorPagina:x,estado:J},headers:this.getToken})}nuevaPregunta(e){return this.http.post(E,e,{headers:this.getToken})}actualizarPregunta(e,r){return this.http.patch(`${E}/${e}`,r,{headers:this.getToken})}eliminarPregunta(e){return this.http.delete(`${E}/${e}`,{headers:this.getToken})}reordenarPregunta(e,r){return this.http.patch(`${E}/${e}/reordenar`,{direccion:r},{headers:this.getToken})}reordenarRespuesta(e,r){return this.http.patch(`${E}/respuesta/${e}/reordenar`,{direccion:r},{headers:this.getToken})}static{this.\u0275fac=function(r){return new(r||a)(P(z))}}static{this.\u0275prov=k({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Pe(a,m){if(a&1){let e=b();i(0,"div",9)(1,"div",10)(2,"input",11),d("ngModelChange",function(t){let x=h(e).$implicit;return v(x.descripcion=t)}),n(),i(3,"button",12),d("click",function(){let l=h(e).index,x=c();return v(x.eliminarRespuesta(l))}),g(),i(4,"svg",13),p(5,"path",14),n()()()()}if(a&2){let e=m.$implicit;o(2),u("ngModel",e.descripcion)}}var ve=(()=>{class a{constructor(e,r,t,l){this.authService=e,this.alertService=r,this.toastr=t,this.preguntasService=l,this.insertEvent=new K,this.updateEvent=new K}ngOnInit(){}crearPregunta(){let e=this.verificacionFormulario();if(e.trim()!==""){this.alertService.info(e);return}this.alertService.question({msg:"Creando pregunta",buttonText:"Aceptar"}).then(({isConfirmed:r})=>{if(r){this.alertService.loading();let t={descripcion:this.preguntasService.abmPregunta.form.descripcion,encuestaId:this.preguntasService.abmPregunta.encuestaSeleccionada.id,respuestas:this.preguntasService.abmPregunta.form.respuestas,creatorUserId:this.authService.usuario.userId};this.preguntasService.nuevaPregunta(t).subscribe({next:({pregunta:l})=>{this.insertEvent.emit(l),this.preguntasService.abmPregunta.show=!1,this.toastr.success("Creada correctamente","Pregunta"),this.alertService.close()},error:({error:l})=>this.alertService.errorApi(l.message)})}})}actualizarPregunta(){let e=this.verificacionFormulario();if(e.trim()!==""){this.alertService.info(e);return}this.alertService.question({msg:"Actualizando pregunta",buttonText:"Aceptar"}).then(({isConfirmed:r})=>{if(r){this.alertService.loading();let t={encuestaId:this.preguntasService.abmPregunta.encuestaSeleccionada.id,descripcion:this.preguntasService.abmPregunta.form.descripcion,respuestas:this.preguntasService.abmPregunta.form.respuestas,creatorUserId:this.authService.usuario.userId};this.preguntasService.actualizarPregunta(this.preguntasService.abmPregunta.preguntaSeleccionada.id,t).subscribe({next:({pregunta:l})=>{this.updateEvent.emit(l),this.preguntasService.abmPregunta.show=!1,this.toastr.success("Actualizada correctamente","Pregunta"),this.alertService.close()},error:({error:l})=>this.alertService.errorApi(l.message)})}})}verificacionFormulario(){let{descripcion:e}=this.preguntasService.abmPregunta.form;return e.trim()===""?"La descripci\xF3n es requerida":this.preguntasService.abmPregunta.form.respuestas.length<2?"Debe tener al menos 2 respuestas":this.preguntasService.abmPregunta.form.respuestas.some(r=>r.descripcion.trim()==="")?"No puede tener respuestas vacias":""}agregarRespuestas(){this.preguntasService.abmPregunta.form.respuestas.push({descripcion:""})}eliminarRespuesta(e){this.preguntasService.abmPregunta.form.respuestas.splice(e,1)}static{this.\u0275fac=function(r){return new(r||a)(f(H),f(O),f(B),f(q))}}static{this.\u0275cmp=A({type:a,selectors:[["app-abm-preguntas"]],outputs:{insertEvent:"insertEvent",updateEvent:"updateEvent"},standalone:!0,features:[F],decls:17,vars:9,consts:[[3,"showModal","titulo","urlIcono","estadoFormulario","textoCrear","textoActualizar","showFooter","closeModal","crear","actualizar"],[1,"bg-white","rounded-lg","shadow-xl"],[1,"p-6","max-h-96","overflow-y-auto"],["for","descripcion",1,"label-generico"],[1,"text-red-500"],["type","text","id","descripcion","placeholder","Ingrese aqui su pregunta",1,"input-generico","mt-2",3,"ngModel","ngModelChange"],[1,"mt-3"],["class","mb-1",4,"ngFor","ngForOf"],[1,"text-xs","p-2","bg-gray-50","hover:bg-gray-100","border","border-gray-300","rounded-lg","mt-2",3,"click"],[1,"mb-1"],[1,"flex","items-center","gap-2"],["type","text","placeholder","Ingrese aqui su respuesta",1,"border-b","border-gray-200","text-sm","w-full","p-2","mt-2",3,"ngModel","ngModelChange"],["type","button",1,"bg-red-500","text-white","rounded-full","p-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"size-4"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18 18 6M6 6l12 12"]],template:function(r,t){r&1&&(i(0,"app-modal",0),d("closeModal",function(){return t.preguntasService.abmPregunta.show=!1})("crear",function(){return t.crearPregunta()})("actualizar",function(){return t.actualizarPregunta()}),i(1,"div",1)(2,"div",2)(3,"div")(4,"label",3),s(5,"Descripci\xF3n "),i(6,"span",4),s(7,"*"),n()(),i(8,"input",5),d("ngModelChange",function(x){return t.preguntasService.abmPregunta.form.descripcion=x}),n()(),i(9,"div",6)(10,"p",3),s(11," Preguntas "),i(12,"span",4),s(13,"*"),n()(),S(14,Pe,6,1,"div",7),i(15,"button",8),d("click",function(){return t.agregarRespuestas()}),s(16," Agregar respuesta "),n()()()()()),r&2&&(u("showModal",t.preguntasService.abmPregunta.show)("titulo",t.preguntasService.abmPregunta.estado=="crear"?"Creando pregunta":"Editando pregunta")("urlIcono","assets/svg/preguntas.svg")("estadoFormulario",t.preguntasService.abmPregunta.estado)("textoCrear","Crear pregunta")("textoActualizar","Actualizar pregunta")("showFooter",!0),o(8),u("ngModel",t.preguntasService.abmPregunta.form.descripcion),o(6),u("ngForOf",t.preguntasService.abmPregunta.form.respuestas))},dependencies:[$,j,N,G,R,U,me],encapsulation:2})}}return a})();var C=L.base_url+"/encuestas-activacion",_e=(()=>{class a{get getToken(){return{Authorization:localStorage.getItem("token")}}constructor(e){this.http=e}obtenerPorEncuesta(e){return this.http.get(`${C}/encuesta/${e}`,{headers:this.getToken})}obtenerProgramacion(e){return this.http.get(`${C}/${e}`,{headers:this.getToken})}nuevaProgramacion(e){return this.http.post(C,e,{headers:this.getToken})}actualizarProgramacion(e,r){return this.http.patch(`${C}/${e}`,r,{headers:this.getToken})}eliminarProgramacion(e){return this.http.delete(`${C}/${e}`,{headers:this.getToken})}verificarAhora(){return this.http.post(`${C}/verificar`,{},{headers:this.getToken})}static{this.\u0275fac=function(r){return new(r||a)(P(z))}}static{this.\u0275prov=k({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function Ie(a,m){if(a&1&&(i(0,"a",33),g(),i(1,"svg",16),p(2,"path",34)(3,"path",35),n(),_(),i(4,"span",18),s(5,"Ver encuesta"),n()()),a&2){let e=c();Y("routerLink","/public/encuesta/",e.idEncuesta,"")}}function Te(a,m){if(a&1){let e=b();i(0,"button",36),d("click",function(){h(e);let t=c();return v(t.encuestasService.abrirAbm("editar",t.encuesta))}),g(),i(1,"svg",16),p(2,"path",37),n(),_(),i(3,"span",18),s(4,"Editar encuesta"),n()()}}function Ve(a,m){if(a&1){let e=b();i(0,"button",38),d("click",function(){h(e);let t=c();return v(t.activarDesactivarEncuesta())}),g(),i(1,"svg",16),p(2,"path",39),n(),s(3),n()}if(a&2){let e=c();u("ngClass",(e.encuesta==null?null:e.encuesta.estado)==="Activa"?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"),o(2),X("d",(e.encuesta==null?null:e.encuesta.estado)==="Activa"?"M6 18L18 6M6 6l12 12":"M5 13l4 4L19 7"),o(1),w(" ",(e.encuesta==null?null:e.encuesta.estado)==="Activa"?"Desactivar":"Activar"," encuesta ")}}function Fe(a,m){if(a&1){let e=b();i(0,"div",49)(1,"h3",50),s(2),n(),i(3,"div",51)(4,"div")(5,"label",52),s(6,"Fecha y hora de inicio"),n(),i(7,"input",53),d("ngModelChange",function(t){h(e);let l=c(2);return v(l.programacionForm.fechaInicio=t)}),n()(),i(8,"div")(9,"label",52),s(10,"Fecha y hora de fin"),n(),i(11,"input",53),d("ngModelChange",function(t){h(e);let l=c(2);return v(l.programacionForm.fechaFin=t)}),n()()(),i(12,"div",54)(13,"button",55),d("click",function(){h(e);let t=c(2);return v(t.guardarProgramacion())}),s(14),n(),i(15,"button",56),d("click",function(){h(e);let t=c(2);return v(t.cerrarFormProgramacion())}),s(16," Cancelar "),n()()()}if(a&2){let e=c(2);o(2),w(" ",e.editandoProgramacion?"Editar programaci\xF3n":"Nueva programaci\xF3n"," "),o(5),u("ngModel",e.programacionForm.fechaInicio),o(4),u("ngModel",e.programacionForm.fechaFin),o(3),w(" ",e.editandoProgramacion?"Actualizar":"Guardar"," ")}}var W=(a,m)=>m.id;function Me(a,m){if(a&1){let e=b();i(0,"div",58)(1,"div",59)(2,"div",60)(3,"div",61),g(),i(4,"svg",62),p(5,"path",26),n(),_(),i(6,"span",63),s(7,"Programaci\xF3n autom\xE1tica"),n()(),i(8,"div",64)(9,"div")(10,"span",7),s(11,"Inicio:"),n(),s(12),M(13,"date"),n(),i(14,"div")(15,"span",7),s(16,"Fin:"),n(),s(17),M(18,"date"),n()()(),i(19,"div",65)(20,"button",66),d("click",function(){let l=h(e).$implicit,x=c(3);return v(x.editarProgramacion(l))}),g(),i(21,"svg",16),p(22,"path",37),n()(),_(),i(23,"button",67),d("click",function(){let l=h(e).$implicit,x=c(3);return v(x.eliminarProgramacion(l))}),g(),i(24,"svg",16),p(25,"path",68),n()()()()()}if(a&2){let e=m.$implicit;o(12),w(" ",D(13,2,e.fechaInicio,"dd/MM/yyyy HH:mm")," "),o(5),w(" ",D(18,5,e.fechaFin,"dd/MM/yyyy HH:mm")," ")}}function De(a,m){if(a&1&&(i(0,"div",57),I(1,Me,26,8,"div",69,W),n()),a&2){let e=c(2);o(1),T(e.programaciones)}}function je(a,m){if(a&1){let e=b();i(0,"div",70)(1,"div",71),g(),i(2,"svg",72),p(3,"path",43),n()(),_(),i(4,"p",73),s(5,"No hay programaciones"),n(),i(6,"p",74),s(7,"La encuesta se activar\xE1/desactivar\xE1 manualmente"),n(),i(8,"button",75),d("click",function(){h(e);let t=c(2);return v(t.abrirFormProgramacion())}),g(),i(9,"svg",16),p(10,"path",46),n(),_(),i(11,"span"),s(12,"Crear primera programaci\xF3n"),n()()()}}function $e(a,m){if(a&1){let e=b();i(0,"div",20)(1,"div",40)(2,"h2",41),g(),i(3,"svg",42),p(4,"path",43),n(),_(),i(5,"span"),s(6,"Programaciones Autom\xE1ticas "),i(7,"span",44),s(8),n()()(),i(9,"button",45),d("click",function(){h(e);let t=c();return v(t.abrirFormProgramacion())}),g(),i(10,"svg",16),p(11,"path",46),n(),_(),i(12,"span"),s(13,"Nueva programaci\xF3n"),n()()(),S(14,Fe,17,4,"div",47)(15,De,3,0,"div",31)(16,je,13,0,"div",48),n()}if(a&2){let e=c();o(8),w("(",e.programaciones.length,")"),o(6),u("ngIf",e.mostrarFormProgramacion),o(1),u("ngIf",e.programaciones.length>0),o(1),u("ngIf",e.programaciones.length===0&&!e.mostrarFormProgramacion)}}function ze(a,m){if(a&1&&(i(0,"option",84),s(1),n()),a&2){let e=m.$implicit;u("value",e.id),o(1),Z(" ",e.apellido,", ",e.nombre," (",e.usuario,") ")}}function Le(a,m){if(a&1){let e=b();i(0,"div",81)(1,"h3",50),s(2,"Asignar usuario a la encuesta"),n(),i(3,"div",82)(4,"label",52),s(5,"Seleccionar usuario"),n(),i(6,"select",83),d("ngModelChange",function(t){h(e);let l=c(2);return v(l.usuarioSeleccionado=t)}),i(7,"option",84),s(8,"-- Seleccionar usuario --"),n(),S(9,ze,2,4,"option",85),n()(),i(10,"div",54)(11,"button",86),d("click",function(){h(e);let t=c(2);return v(t.asignarUsuario())}),s(12," Asignar "),n(),i(13,"button",56),d("click",function(){h(e);let t=c(2);return v(t.cerrarFormAsignacion())}),s(14," Cancelar "),n()()()}if(a&2){let e=c(2);o(6),u("ngModel",e.usuarioSeleccionado),o(1),u("value",null),o(2),u("ngForOf",e.usuariosDisponibles)}}function He(a,m){if(a&1){let e=b();i(0,"div",89)(1,"div",90)(2,"div",91)(3,"div",92),s(4),n(),i(5,"div")(6,"p",63),s(7),n(),i(8,"p",93),s(9),n()()(),i(10,"button",94),d("click",function(){let l=h(e).$implicit,x=c(3);return v(x.removerUsuario(l))}),g(),i(11,"svg",16),p(12,"path",95),n()()()()}if(a&2){let e=m.$implicit;o(4),V(" ",e.usuario.apellido.charAt(0),"",e.usuario.nombre.charAt(0)," "),o(3),V("",e.usuario.apellido,", ",e.usuario.nombre," "),o(2),w(" DNI: ",e.dni,"")}}function Ge(a,m){if(a&1&&(i(0,"div",87),S(1,He,13,5,"div",88),n()),a&2){let e=c(2);o(1),u("ngForOf",e.usuariosAsignados)}}function Re(a,m){if(a&1){let e=b();i(0,"div",70)(1,"div",96),g(),i(2,"svg",97),p(3,"path",77),n()(),_(),i(4,"p",73),s(5,"No hay usuarios asignados"),n(),i(6,"p",74),s(7,"Los usuarios asignados podr\xE1n visualizar esta encuesta"),n(),i(8,"button",98),d("click",function(){h(e);let t=c(2);return v(t.abrirFormAsignacion())}),g(),i(9,"svg",16),p(10,"path",46),n(),_(),i(11,"span"),s(12,"Asignar primer usuario"),n()()()}}function Ue(a,m){if(a&1){let e=b();i(0,"div",20)(1,"div",40)(2,"h2",41),g(),i(3,"svg",76),p(4,"path",77),n(),_(),i(5,"span"),s(6,"Usuarios Asignados "),i(7,"span",44),s(8),n()()(),i(9,"button",78),d("click",function(){h(e);let t=c();return v(t.abrirFormAsignacion())}),g(),i(10,"svg",16),p(11,"path",46),n(),_(),i(12,"span"),s(13,"Asignar usuario"),n()()(),S(14,Le,15,3,"div",79)(15,Ge,2,1,"div",80)(16,Re,13,0,"div",48),n()}if(a&2){let e=c();o(8),w("(",e.usuariosAsignados.length,")"),o(6),u("ngIf",e.mostrarFormAsignacion),o(1),u("ngIf",e.usuariosAsignados.length>0),o(1),u("ngIf",e.usuariosAsignados.length===0&&!e.mostrarFormAsignacion)}}function Ne(a,m){if(a&1){let e=b();i(0,"div",40)(1,"h2",41),p(2,"img",99),i(3,"span"),s(4,"Preguntas "),i(5,"span",44),s(6),n()()(),i(7,"button",100),d("click",function(){h(e);let t=c();return v(t.preguntasService.abrirAbm("crear",null,t.encuesta))}),g(),i(8,"svg",16),p(9,"path",46),n(),_(),i(10,"span"),s(11,"Nueva pregunta"),n()()()}if(a&2){let e=c();o(6),w("(",e.encuesta==null?null:e.encuesta.Preguntas.length,")")}}function Oe(a,m){if(a&1){let e=b();i(0,"div",107)(1,"button",108),d("click",function(){h(e);let t=c().$implicit,l=c(2);return v(l.reordenarPregunta(t,"arriba"))}),g(),i(2,"svg",16),p(3,"path",109),n()(),_(),i(4,"button",110),d("click",function(){h(e);let t=c().$implicit,l=c(2);return v(l.reordenarPregunta(t,"abajo"))}),g(),i(5,"svg",16),p(6,"path",111),n()(),_(),i(7,"button",112),d("click",function(){h(e);let t=c().$implicit,l=c(2);return v(l.preguntasService.abrirAbm("editar",t,l.encuesta))}),g(),i(8,"svg",16),p(9,"path",37),n()(),_(),i(10,"button",113),d("click",function(){h(e);let t=c().$implicit,l=c(2);return v(l.eliminarPregunta(t))}),g(),i(11,"svg",16),p(12,"path",68),n()()()}if(a&2){let e=c().$index,r=c(2);o(1),u("disabled",e===0)("ngClass",e===0?"bg-gray-300 cursor-not-allowed":"bg-green-500 hover:bg-green-600"),o(3),u("disabled",e===r.encuesta.Preguntas.length-1)("ngClass",e===r.encuesta.Preguntas.length-1?"bg-gray-300 cursor-not-allowed":"bg-green-500 hover:bg-green-600")}}function Be(a,m){if(a&1){let e=b();i(0,"div",119)(1,"button",120),d("click",function(){h(e);let t=c().$implicit,l=c(3);return v(l.reordenarRespuesta(t,"arriba"))}),g(),i(2,"svg",121),p(3,"path",109),n()(),_(),i(4,"button",122),d("click",function(){h(e);let t=c().$implicit,l=c(3);return v(l.reordenarRespuesta(t,"abajo"))}),g(),i(5,"svg",121),p(6,"path",111),n()()()}if(a&2){let e=c().$index,r=c().$implicit;o(1),u("disabled",e===0)("ngClass",e===0?"bg-gray-300 cursor-not-allowed":"bg-teal-500 hover:bg-teal-600"),o(3),u("disabled",e===r.Respuestas.length-1)("ngClass",e===r.Respuestas.length-1?"bg-gray-300 cursor-not-allowed":"bg-teal-500 hover:bg-teal-600")}}function qe(a,m){if(a&1&&(i(0,"div",114)(1,"div",115)(2,"span",116),s(3),n(),i(4,"p",117),s(5),n()(),S(6,Be,7,4,"div",118),n()),a&2){let e=m.$implicit,r=m.$index,t=c(3);o(3),w(" ",r+1," "),o(2),y(e.descripcion),o(1),u("ngIf",t.authService.isAdmin)}}function Je(a,m){if(a&1&&(i(0,"div",101)(1,"div",102)(2,"div",91)(3,"span",103),s(4),n(),i(5,"h3",104),s(6),n()(),S(7,Oe,13,4,"div",105),n(),i(8,"div",106),I(9,qe,7,3,"div",123,W),n()()),a&2){let e=m.$implicit,r=m.$index,t=c(2);o(4),w(" ",r+1," "),o(2),y(e.descripcion),o(1),u("ngIf",t.authService.isAdmin),o(2),T(e.Respuestas)}}function Ke(a,m){if(a&1&&(i(0,"div",57),I(1,Je,11,3,"div",124,W),n()),a&2){let e=c();o(1),T(e.encuesta==null?null:e.encuesta.Preguntas)}}function Qe(a,m){if(a&1){let e=b();i(0,"button",129),d("click",function(){h(e);let t=c(2);return v(t.preguntasService.abrirAbm("crear",null,t.encuesta))}),g(),i(1,"svg",16),p(2,"path",46),n(),_(),i(3,"span"),s(4,"Agregar primera pregunta"),n()()}}function We(a,m){if(a&1&&(i(0,"div",125)(1,"div",126),p(2,"img",127),n(),i(3,"p",73),s(4,"No hay preguntas"),n(),i(5,"p",74),s(6,"Comienza agregando la primera pregunta a esta encuesta"),n(),S(7,Qe,5,0,"button",128),n()),a&2){let e=c();o(7),u("ngIf",e.authService.isAdmin)}}var Xe=a=>["/dashboard/reportes/encuesta",a],ht=(()=>{class a{constructor(e,r,t,l,x,J,xe,be,fe){this.authService=e,this.activatedRoute=r,this.encuestasService=t,this.preguntasService=l,this.encuestasActivacionService=x,this.usuariosService=J,this.alertService=xe,this.toastr=be,this.router=fe,this.programaciones=[],this.mostrarFormProgramacion=!1,this.programacionForm={fechaInicio:"",fechaFin:""},this.editandoProgramacion=null,this.usuariosAsignados=[],this.usuariosDisponibles=[],this.mostrarFormAsignacion=!1,this.usuarioSeleccionado=null}ngOnInit(){this.alertService.loading(),this.activatedRoute.params.subscribe({next:({id:e})=>{this.idEncuesta=e,this.obtenerEncuesta()},error:({error:e})=>{this.alertService.errorApi(e.message)}})}obtenerEncuesta(){this.encuestasService.obtenerEncuesta(this.idEncuesta).subscribe({next:({encuesta:e})=>{this.encuesta=e,this.ordenarPreguntas(),console.log(this.encuesta),this.cargarProgramaciones(),this.cargarUsuariosAsignados(),this.alertService.close()},error:({error:e})=>{this.alertService.errorApi(e.message)}})}ordenarPreguntas(){this.encuesta&&this.encuesta.Preguntas&&(this.encuesta.Preguntas.sort((e,r)=>e.orden-r.orden),this.encuesta.Preguntas.forEach(e=>{e.Respuestas&&e.Respuestas.sort((r,t)=>r.orden-t.orden)}))}cargarProgramaciones(){this.encuestasActivacionService.obtenerPorEncuesta(this.idEncuesta).subscribe({next:({programaciones:e})=>{this.programaciones=e},error:({error:e})=>{this.alertService.errorApi(e.message)}})}abrirFormProgramacion(){this.mostrarFormProgramacion=!0,this.programacionForm={fechaInicio:"",fechaFin:""},this.editandoProgramacion=null}cerrarFormProgramacion(){this.mostrarFormProgramacion=!1,this.programacionForm={fechaInicio:"",fechaFin:""},this.editandoProgramacion=null}guardarProgramacion(){if(!this.programacionForm.fechaInicio||!this.programacionForm.fechaFin){this.toastr.error("Completa todos los campos","Error");return}let e={encuestaId:Number(this.idEncuesta),fechaInicio:new Date(this.programacionForm.fechaInicio).toISOString(),fechaFin:new Date(this.programacionForm.fechaFin).toISOString(),creatorUserId:this.encuesta.creatorUserId};this.editandoProgramacion?this.encuestasActivacionService.actualizarProgramacion(this.editandoProgramacion.id.toString(),e).subscribe({next:()=>{this.toastr.success("Programaci\xF3n actualizada","\xC9xito"),this.cargarProgramaciones(),this.cerrarFormProgramacion()},error:({error:r})=>{this.alertService.errorApi(r.message)}}):this.encuestasActivacionService.nuevaProgramacion(e).subscribe({next:()=>{this.toastr.success("Programaci\xF3n creada","\xC9xito"),this.cargarProgramaciones(),this.cerrarFormProgramacion()},error:({error:r})=>{this.alertService.errorApi(r.message)}})}editarProgramacion(e){this.editandoProgramacion=e,this.programacionForm={fechaInicio:new Date(e.fechaInicio).toISOString().slice(0,16),fechaFin:new Date(e.fechaFin).toISOString().slice(0,16)},this.mostrarFormProgramacion=!0}eliminarProgramacion(e){this.alertService.question({msg:"Eliminando programaci\xF3n",buttonText:"Aceptar"}).then(({isConfirmed:r})=>{r&&(this.alertService.loading(),this.encuestasActivacionService.eliminarProgramacion(e.id.toString()).subscribe({next:()=>{this.toastr.success("Programaci\xF3n eliminada","\xC9xito"),this.cargarProgramaciones(),this.alertService.close()},error:({error:t})=>{this.alertService.errorApi(t.message)}}))})}activarDesactivarEncuesta(){this.alertService.question({msg:`${this.encuesta.estado==="Activa"?"Desactivando":"Activando"} la encuesta`,buttonText:"Aceptar"}).then(({isConfirmed:e})=>{if(e){this.alertService.loading();let r=this.encuesta.estado==="Activa"?"Inactiva":"Activa";this.encuestasService.actualizarEncuesta(this.idEncuesta,{estado:r}).subscribe({next:()=>{this.alertService.close(),this.encuesta.estado=r,this.toastr.success("Actualizada correctamente","Encuesta")},error:({error:t})=>this.alertService.errorApi(t.message)})}})}actualizarEncuesta(e){this.encuesta=e,this.ordenarPreguntas()}agregarPregunta(e){this.encuesta.Preguntas.push(e),this.ordenarPreguntas()}actualizarPregunta(e){this.encuesta.Preguntas=this.encuesta.Preguntas.map(r=>r.id===e.id?e:r),this.ordenarPreguntas(),console.log(this.encuesta)}eliminarPregunta(e){this.alertService.question({msg:"Eliminando pregunta",buttonText:"Aceptar"}).then(({isConfirmed:r})=>{r&&(this.alertService.loading(),this.preguntasService.eliminarPregunta(e.id).subscribe({next:()=>{this.encuesta.Preguntas=this.encuesta.Preguntas.filter(t=>t.id!==e.id),this.toastr.success("Eliminada correctamente","Pregunta"),this.alertService.close()},error:({error:t})=>this.alertService.errorApi(t.message)}))})}eliminarEncuesta(){this.alertService.question({msg:"Eliminando encuesta",buttonText:"Aceptar"}).then(({isConfirmed:e})=>{e&&(this.alertService.loading(),this.encuestasService.eliminarEncuesta(this.idEncuesta).subscribe({next:()=>{this.toastr.success("Eliminada correctamente","Encuesta"),this.alertService.close(),this.router.navigate(["/dashboard/encuestas"])},error:({error:r})=>this.alertService.errorApi(r.message)}))})}reordenarPregunta(e,r){this.alertService.loading(),this.preguntasService.reordenarPregunta(e.id,r).subscribe({next:()=>{this.obtenerEncuesta(),this.toastr.success("Orden actualizado","Pregunta")},error:({error:t})=>this.alertService.errorApi(t.message)})}reordenarRespuesta(e,r){this.alertService.loading(),this.preguntasService.reordenarRespuesta(e.id,r).subscribe({next:()=>{this.obtenerEncuesta(),this.toastr.success("Orden actualizado","Respuesta")},error:({error:t})=>this.alertService.errorApi(t.message)})}cargarUsuariosAsignados(){this.encuestasService.obtenerUsuariosAsignados(this.idEncuesta).subscribe({next:({usuarios:e})=>{this.usuariosAsignados=e},error:({error:e})=>{this.alertService.errorApi(e.message)}})}cargarUsuariosDisponibles(){this.usuariosService.listarUsuarios(1,"apellido").subscribe({next:({usuarios:e})=>{let r=this.usuariosAsignados.map(t=>t.usuario.id);this.usuariosDisponibles=e.filter(t=>!r.includes(t.id)&&t.activo)},error:({error:e})=>{this.alertService.errorApi(e.message)}})}abrirFormAsignacion(){this.cargarUsuariosDisponibles(),this.mostrarFormAsignacion=!0,this.usuarioSeleccionado=null}cerrarFormAsignacion(){this.mostrarFormAsignacion=!1,this.usuarioSeleccionado=null}asignarUsuario(){if(!this.usuarioSeleccionado){this.toastr.error("Selecciona un usuario","Error");return}this.alertService.loading(),this.encuestasService.asignarUsuario(this.idEncuesta,this.usuarioSeleccionado).subscribe({next:()=>{this.toastr.success("Usuario asignado correctamente","\xC9xito"),this.cargarUsuariosAsignados(),this.cerrarFormAsignacion(),this.alertService.close()},error:({error:e})=>{this.alertService.errorApi(e.message)}})}removerUsuario(e){this.alertService.question({msg:`\xBFRemover a ${e.usuario.apellido}, ${e.usuario.nombre} de esta encuesta?`,buttonText:"Aceptar"}).then(({isConfirmed:r})=>{r&&(this.alertService.loading(),this.encuestasService.removerUsuario(this.idEncuesta,e.usuario.id).subscribe({next:()=>{this.toastr.success("Usuario removido correctamente","\xC9xito"),this.cargarUsuariosAsignados(),this.alertService.close()},error:({error:t})=>{this.alertService.errorApi(t.message)}}))})}static{this.\u0275fac=function(r){return new(r||a)(f(H),f(re),f(de),f(q),f(_e),f(pe),f(O),f(B),f(ae))}}static{this.\u0275cmp=A({type:a,selectors:[["app-detalles-encuestas"]],standalone:!0,features:[F],decls:50,vars:21,consts:[[3,"updateEvent"],[3,"insertEvent","updateEvent"],[1,"container","mx-auto","px-4","py-6"],[1,"mb-6"],["routerLink","/dashboard/encuestas",1,"flex","items-center","gap-2","px-4","py-2","bg-gray-100","hover:bg-gray-200","text-gray-700","rounded-lg","transition-colors","border","border-gray-300","duration-200"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"],[1,"font-medium"],[1,"bg-white","rounded-lg","shadow","border","border-gray-200","p-8","mb-6"],[1,"text-center","mb-6"],[1,"text-3xl","font-bold","text-gray-800","mb-2"],[1,"text-gray-600","mb-4"],[1,"inline-flex","items-center","px-4","py-1.5","rounded-full","text-sm","font-semibold",3,"ngClass"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-6","border-t","border-gray-200"],["class","flex items-center justify-center gap-2 px-5 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all duration-200 shadow hover:shadow-lg flex-1",3,"routerLink",4,"ngIf"],[1,"flex","items-center","justify-center","gap-2","px-5","py-3","bg-purple-500","hover:bg-purple-600","text-white","rounded-lg","transition-all","duration-200","shadow","hover:shadow-lg","flex-1",3,"routerLink"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"font-semibold"],["class","flex items-center justify-center gap-2 px-5 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-all duration-200 shadow hover:shadow-lg flex-1",3,"click",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","border","border-gray-200","p-6","mb-6"],[1,"flex","flex-col","md:flex-row","md:justify-between","md:items-center","gap-6"],[1,"space-y-3","text-sm"],[1,"flex","items-center","gap-3","text-gray-700"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-500","flex-shrink-0"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],["class","flex items-center justify-center gap-2 px-6 py-2.5 text-white font-medium rounded-lg shadow-sm hover:shadow transition-all duration-200",3,"ngClass","click",4,"ngIf"],["class","bg-white rounded-lg shadow border border-gray-200 p-6 mb-6",4,"ngIf"],[1,"bg-white","rounded-lg","shadow","border","border-gray-200","p-6"],["class","flex items-center justify-between pb-5 mb-6 border-b border-gray-200",4,"ngIf"],["class","space-y-4",4,"ngIf"],["class","text-center py-16",4,"ngIf"],[1,"flex","items-center","justify-center","gap-2","px-5","py-3","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","transition-all","duration-200","shadow","hover:shadow-lg","flex-1",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"flex","items-center","justify-center","gap-2","px-5","py-3","bg-orange-500","hover:bg-orange-600","text-white","rounded-lg","transition-all","duration-200","shadow","hover:shadow-lg","flex-1",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"flex","items-center","justify-center","gap-2","px-6","py-2.5","text-white","font-medium","rounded-lg","shadow-sm","hover:shadow","transition-all","duration-200",3,"ngClass","click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"flex","items-center","justify-between","pb-5","mb-6","border-b","border-gray-200"],[1,"text-2xl","font-bold","text-gray-800","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-teal-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-gray-500","font-normal"],[1,"flex","items-center","gap-2","px-5","py-2.5","bg-teal-500","hover:bg-teal-600","text-white","font-medium","rounded-lg","shadow-sm","hover:shadow","transition-all","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4v16m8-8H4"],["class","bg-teal-50 rounded-lg border border-teal-200 p-6 mb-6",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[1,"bg-teal-50","rounded-lg","border","border-teal-200","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","datetime-local",1,"w-full","px-4","py-2.5","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-teal-500","focus:border-transparent",3,"ngModel","ngModelChange"],[1,"flex","gap-3"],[1,"px-6","py-2.5","bg-teal-500","hover:bg-teal-600","text-white","rounded-lg","transition-colors","duration-200","font-medium",3,"click"],[1,"px-6","py-2.5","bg-gray-500","hover:bg-gray-600","text-white","rounded-lg","transition-colors","duration-200","font-medium",3,"click"],[1,"space-y-4"],[1,"bg-gradient-to-r","from-teal-50","to-white","rounded-lg","border","border-teal-200","p-5"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"flex-1"],[1,"flex","items-center","gap-2","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-teal-600"],[1,"font-semibold","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2","text-sm","text-gray-700"],[1,"flex","gap-2"],["title","Editar programaci\xF3n",1,"p-2","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","transition-colors","duration-200",3,"click"],["title","Eliminar programaci\xF3n",1,"p-2","bg-red-500","hover:bg-red-600","text-white","rounded-lg","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["class","bg-gradient-to-r from-teal-50 to-white rounded-lg border border-teal-200 p-5"],[1,"text-center","py-12"],[1,"w-20","h-20","mx-auto","mb-4","bg-teal-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-teal-500"],[1,"text-gray-600","text-lg","font-semibold","mb-1"],[1,"text-gray-500","text-sm","mb-6"],[1,"inline-flex","items-center","gap-2","px-6","py-3","bg-teal-500","hover:bg-teal-600","text-white","font-medium","rounded-lg","shadow-sm","hover:shadow","transition-all","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-indigo-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"],[1,"flex","items-center","gap-2","px-5","py-2.5","bg-indigo-500","hover:bg-indigo-600","text-white","font-medium","rounded-lg","shadow-sm","hover:shadow","transition-all","duration-200",3,"click"],["class","bg-indigo-50 rounded-lg border border-indigo-200 p-6 mb-6",4,"ngIf"],["class","space-y-3",4,"ngIf"],[1,"bg-indigo-50","rounded-lg","border","border-indigo-200","p-6","mb-6"],[1,"mb-4"],[1,"w-full","px-4","py-2.5","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-indigo-500","focus:border-transparent",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"px-6","py-2.5","bg-indigo-500","hover:bg-indigo-600","text-white","rounded-lg","transition-colors","duration-200","font-medium",3,"click"],[1,"space-y-3"],["class","bg-gradient-to-r from-indigo-50 to-white rounded-lg border border-indigo-200 p-4",4,"ngFor","ngForOf"],[1,"bg-gradient-to-r","from-indigo-50","to-white","rounded-lg","border","border-indigo-200","p-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-indigo-500","rounded-full","flex","items-center","justify-center","text-white","font-bold"],[1,"text-sm","text-gray-600"],["title","Remover usuario",1,"p-2","bg-red-500","hover:bg-red-600","text-white","rounded-lg","transition-colors","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"w-20","h-20","mx-auto","mb-4","bg-indigo-100","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-indigo-500"],[1,"inline-flex","items-center","gap-2","px-6","py-3","bg-indigo-500","hover:bg-indigo-600","text-white","font-medium","rounded-lg","shadow-sm","hover:shadow","transition-all","duration-200",3,"click"],["src","assets/svg/preguntas.svg","alt","Preguntas",1,"w-6","h-6"],[1,"flex","items-center","gap-2","px-5","py-2.5","bg-green-500","hover:bg-green-600","text-white","font-medium","rounded-lg","shadow-sm","hover:shadow","transition-all","duration-200",3,"click"],[1,"bg-gradient-to-br","from-gray-50","to-white","rounded-lg","border","border-gray-200","p-5","hover:shadow-md","transition-shadow","duration-200"],[1,"flex","items-start","justify-between","gap-3","mb-4"],[1,"flex","items-center","justify-center","w-8","h-8","bg-blue-500","text-white","text-sm","font-bold","rounded-full"],[1,"text-lg","font-semibold","text-gray-800"],["class","flex gap-2 flex-shrink-0",4,"ngIf"],[1,"ml-11","space-y-2"],[1,"flex","gap-2","flex-shrink-0"],["title","Subir pregunta",1,"p-2","text-white","rounded-lg","transition-colors","duration-200",3,"disabled","ngClass","click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],["title","Bajar pregunta",1,"p-2","text-white","rounded-lg","transition-colors","duration-200",3,"disabled","ngClass","click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["title","Editar pregunta",1,"p-2","bg-blue-500","hover:bg-blue-600","text-white","rounded-lg","transition-colors","duration-200",3,"click"],["title","Eliminar pregunta",1,"p-2","bg-red-500","hover:bg-red-600","text-white","rounded-lg","transition-colors","duration-200",3,"click"],[1,"flex","items-center","justify-between","gap-3","p-3","bg-white","rounded-lg","border","border-gray-200"],[1,"flex","items-center","gap-3","flex-1"],[1,"flex","items-center","justify-center","w-6","h-6","bg-gray-200","text-gray-700","text-xs","font-semibold","rounded-full","flex-shrink-0"],[1,"text-gray-700"],["class","flex gap-1",4,"ngIf"],[1,"flex","gap-1"],["title","Subir respuesta",1,"p-1","text-white","rounded","transition-colors","duration-200",3,"disabled","ngClass","click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["title","Bajar respuesta",1,"p-1","text-white","rounded","transition-colors","duration-200",3,"disabled","ngClass","click"],["class","flex items-center justify-between gap-3 p-3 bg-white rounded-lg border border-gray-200"],["class","bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-200 p-5 hover:shadow-md transition-shadow duration-200"],[1,"text-center","py-16"],[1,"w-20","h-20","mx-auto","mb-4","bg-gray-100","rounded-full","flex","items-center","justify-center"],["src","assets/svg/preguntas.svg","alt","Preguntas",1,"w-10","h-10","opacity-40"],["class","inline-flex items-center gap-2 px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-medium rounded-lg shadow-sm hover:shadow transition-all duration-200",3,"click",4,"ngIf"],[1,"inline-flex","items-center","gap-2","px-6","py-3","bg-green-500","hover:bg-green-600","text-white","font-medium","rounded-lg","shadow-sm","hover:shadow","transition-all","duration-200",3,"click"]],template:function(r,t){r&1&&(i(0,"app-abm-encuestas",0),d("updateEvent",function(x){return t.actualizarEncuesta(x)}),n(),i(1,"app-abm-preguntas",1),d("insertEvent",function(x){return t.agregarPregunta(x)})("updateEvent",function(x){return t.actualizarPregunta(x)}),n(),i(2,"div",2)(3,"div",3)(4,"button",4),g(),i(5,"svg",5),p(6,"path",6),n(),_(),i(7,"span",7),s(8,"Regresar"),n()()(),i(9,"div",8)(10,"div",9)(11,"h1",10),s(12),n(),i(13,"p",11),s(14),n(),i(15,"span",12),s(16),n()(),i(17,"div",13),S(18,Ie,6,1,"a",14),i(19,"a",15),g(),i(20,"svg",16),p(21,"path",17),n(),_(),i(22,"span",18),s(23,"Reportes"),n()(),S(24,Te,5,0,"button",19),n()(),i(25,"div",20)(26,"div",21)(27,"div",22)(28,"div",23),g(),i(29,"svg",24),p(30,"path",25),n(),_(),i(31,"span")(32,"span",18),s(33,"Creado por:"),n(),s(34),n()(),i(35,"div",23),g(),i(36,"svg",24),p(37,"path",26),n(),_(),i(38,"span")(39,"span",18),s(40,"Fecha:"),n(),s(41),M(42,"date"),n()()(),S(43,Ve,4,3,"button",27),n()(),S(44,$e,17,4,"div",28)(45,Ue,17,4,"div",28),i(46,"div",29),S(47,Ne,12,1,"div",30)(48,Ke,3,0,"div",31)(49,We,8,1,"div",32),n()()),r&2&&(o(12),y(t.encuesta==null?null:t.encuesta.titulo),o(2),y(t.encuesta==null?null:t.encuesta.descripcion),o(1),u("ngClass",(t.encuesta==null?null:t.encuesta.estado)==="Activa"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),o(1),w(" ",t.encuesta==null?null:t.encuesta.estado," "),o(2),u("ngIf",t.authService.isAdmin),o(1),u("routerLink",ee(19,Xe,t.idEncuesta)),o(5),u("ngIf",t.authService.isAdmin),o(10),V(" ",t.encuesta==null||t.encuesta.creatorUser==null?null:t.encuesta.creatorUser.apellido,", ",t.encuesta==null||t.encuesta.creatorUser==null?null:t.encuesta.creatorUser.nombre,""),o(7),w(" ",D(42,16,t.encuesta==null?null:t.encuesta.createdAt,"dd/MM/yyyy"),""),o(2),u("ngIf",t.authService.isAdmin),o(1),u("ngIf",t.authService.isAdmin),o(1),u("ngIf",t.authService.isAdmin),o(2),u("ngIf",t.authService.isAdmin),o(1),u("ngIf",(t.encuesta==null?null:t.encuesta.Preguntas.length)>0),o(1),u("ngIf",(t.encuesta==null?null:t.encuesta.Preguntas.length)===0))},dependencies:[$,te,j,ie,ne,oe,se,N,ce,ue,G,le,R,U,ge,ve],encapsulation:2})}}return a})();export{ht as default};
