import{v as u,x as c}from"./chunk-PL2ZQQHO.js";import{X as o,aa as h}from"./chunk-DRQLPHCS.js";var r=c.base_url+"/encuestas",m=(()=>{class n{get getToken(){return{Authorization:localStorage.getItem("token")}}constructor(t){this.http=t,this.abmEncuesta={show:!1,estado:"crear",form:{titulo:"",descripcion:""},encuestaSeleccionada:null},this.encuestas=[],this.total=0}abrirAbm(t,e=null){this.abmEncuesta.estado=t,this.abmEncuesta.encuestaSeleccionada=e,this.abmEncuesta.show=!0,t==="editar"?this.abmEncuesta.form={titulo:e.titulo,descripcion:e.descripcion}:this.abmEncuesta.form={titulo:"",descripcion:""}}obtenerEncuesta(t){return this.http.get(`${r}/${t}`,{headers:this.getToken})}listarEncuestas({direccion:t="desc",columna:e="id",parametro:i="",pagina:a=1,itemsPorPagina:s=1e6,estado:p=""}){return this.http.get(r,{params:{direccion:String(t),columna:e,parametro:i,pagina:a,itemsPorPagina:s,estado:p},headers:this.getToken})}nuevaEncuesta(t){return this.http.post(r,t,{headers:this.getToken})}actualizarEncuesta(t,e){return this.http.patch(`${r}/${t}`,e,{headers:this.getToken})}eliminarEncuesta(t){return this.http.delete(`${r}/${t}`,{headers:this.getToken})}obtenerEstadisticas(t,e,i,a){let s={};return e&&(s.fechaInicio=e),i&&(s.fechaFin=i),a&&(s.encuestadorId=a),this.http.get(`${r}/${t}/estadisticas`,{params:s,headers:this.getToken})}obtenerDistribucion(t,e,i,a){let s={};return e&&(s.fechaInicio=e),i&&(s.fechaFin=i),a&&(s.encuestadorId=a),this.http.get(`${r}/${t}/distribucion`,{params:s,headers:this.getToken})}obtenerReporteDetallado(t,e,i,a){let s={};return e&&(s.fechaInicio=e),i&&(s.fechaFin=i),a&&(s.encuestadorId=a),this.http.get(`${r}/${t}/reporte`,{params:s,headers:this.getToken})}obtenerResumen(t){return this.http.get(`${r}/${t}/resumen`,{headers:this.getToken})}asignarUsuario(t,e){return this.http.post(`${r}/${t}/usuarios`,{usuarioId:e},{headers:this.getToken})}removerUsuario(t,e){return this.http.delete(`${r}/${t}/usuarios/${e}`,{headers:this.getToken})}obtenerUsuariosAsignados(t){return this.http.get(`${r}/${t}/usuarios`,{headers:this.getToken})}obtenerEncuestasAsignadas(t){return this.http.get(`${r}/usuario/${t}`,{headers:this.getToken})}responderEncuesta(t,e,i,a){return this.http.post(`${r}/${t}/responder`,{usuarioId:e,respuestas:i,datosPersonales:a},{headers:this.getToken})}static{this.\u0275fac=function(e){return new(e||n)(h(u))}}static{this.\u0275prov=o({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{m as a};
