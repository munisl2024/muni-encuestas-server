import{a as Y}from"./chunk-SOEPROMY.js";import{a as X}from"./chunk-J3BUK4MO.js";import{a as A,c as z,f as D,j as H,k as N,l as O,p as q}from"./chunk-LNBIFSMN.js";import{a as $}from"./chunk-7ASKJ65C.js";import{a as R}from"./chunk-YESQC6II.js";import{e as G,g as L}from"./chunk-LIJZX7MQ.js";import{i as T,l as V,m as j,p as F}from"./chunk-UHNCRVEK.js";import{$ as I,Bb as a,Cb as h,Db as E,Eb as P,Jb as B,Ua as s,Va as _,cb as d,db as M,ea as v,eb as w,fa as x,fb as S,ga as m,ha as g,hb as b,kb as t,lb as n,mb as l,pb as y,ub as f,vb as u}from"./chunk-GYUG5PKY.js";function J(r,c){if(r&1&&(t(0,"p",20),a(1),n()),r&2){let e=u();s(1),P(" ",e.authService.usuario.apellido.toLowerCase(),", ",e.authService.usuario.nombre.toLowerCase()," ")}}function K(r,c){r&1&&(t(0,"div",21)(1,"div",22)(2,"div",23),m(),t(3,"svg",24),l(4,"path",25),n()(),g(),t(5,"p",26),a(6,"Cargando encuesta..."),n()()())}function Q(r,c){if(r&1&&(t(0,"div",21)(1,"div",27),l(2,"div",28),t(3,"div",29)(4,"div",30),l(5,"div",31),t(6,"div",32),m(),t(7,"svg",33),l(8,"path",34),n()()(),g(),t(9,"h2",35),a(10,"Encuesta desactivada"),n(),t(11,"p",36),a(12," Esta encuesta se encuentra actualmente desactivada y no est\xE1 disponible para responder. "),n(),t(13,"div",37)(14,"h3",38),a(15),n(),t(16,"p",39),a(17),n()()()()()),r&2){let e=u();s(15),h(e.encuesta==null?null:e.encuesta.titulo),s(2),h(e.encuesta==null?null:e.encuesta.descripcion)}}function W(r,c){if(r&1&&(t(0,"div",21)(1,"div",27),l(2,"div",40),t(3,"div",29)(4,"div",30),l(5,"div",41),t(6,"div",42),m(),t(7,"svg",43),l(8,"path",44),n()()(),g(),t(9,"h2",35),a(10,"Encuesta vac\xEDa"),n(),t(11,"p",36),a(12," Esta encuesta no contiene preguntas en este momento. No es posible enviar respuestas. "),n(),t(13,"div",45)(14,"h3",38),a(15),n(),t(16,"p",39),a(17),n(),t(18,"div",46),m(),t(19,"svg",12),l(20,"path",47),n(),g(),t(21,"span",48),a(22,"Por favor contacta al administrador"),n()()()()()()),r&2){let e=u();s(15),h(e.encuesta==null?null:e.encuesta.titulo),s(2),h(e.encuesta==null?null:e.encuesta.descripcion)}}function Z(r,c){r&1&&(t(0,"div",115),a(1," No se encontraron barrios "),n())}function ee(r,c){r&1&&(m(),t(0,"svg",119),l(1,"path",120),n())}function te(r,c){if(r&1){let e=y();t(0,"button",116),f("mousedown",function(){let p=v(e).$implicit,C=u(3);return x(C.seleccionarBarrio(p))}),t(1,"span",117),a(2),n(),b(3,ee,2,0,"svg",118),n()}if(r&2){let e=c.$implicit,o=u(3);w("bg-blue-100",o.datosPersonales.barrioId===e.id),s(1),w("font-semibold",o.datosPersonales.barrioId===e.id),s(1),E(" ",e.descripcion," "),s(1),d("ngIf",o.datosPersonales.barrioId===e.id)}}function ne(r,c){if(r&1&&(m(),g(),t(0,"div",112),b(1,Z,2,0,"div",113)(2,te,4,6,"button",114),n()),r&2){let e=u(2);s(1),d("ngIf",e.barriosFiltrados.length===0),s(1),d("ngForOf",e.barriosFiltrados)}}function ie(r,c){r&1&&(m(),g(),t(0,"p",121),m(),t(1,"svg",122),l(2,"path",25),n(),a(3," Cargando barrios... "),n())}function re(r,c){r&1&&l(0,"div",133)}function ae(r,c){if(r&1&&(t(0,"span"),a(1),n()),r&2){let e=u().index;s(1),h(e+1)}}function oe(r,c){r&1&&(m(),t(0,"svg",134),l(1,"path",120),n())}function se(r,c){r&1&&(m(),t(0,"svg",137),l(1,"path",120),n())}function le(r,c){if(r&1){let e=y();t(0,"label")(1,"input",135),f("change",function(){let p=v(e).$implicit,C=u().$implicit,k=u(2);return x(k.seleccionarRespuesta(C.id,p.id))}),n(),t(2,"span"),a(3),n(),b(4,se,2,0,"svg",136),n()}if(r&2){let e=c.$implicit,o=u().$implicit,i=u(2);S(i.getAnswerClasses(o.id,e.id)),s(1),d("name","pregunta_"+o.id)("value",e.id)("checked",i.verificarRespuestaSeleccionada(o.id,e.id)),s(1),S(i.getAnswerTextClasses(o.id,e.id)),s(1),E(" ",e.descripcion," "),s(1),d("ngIf",i.verificarRespuestaSeleccionada(o.id,e.id))}}function de(r,c){if(r&1&&(t(0,"div",5),b(1,re,1,0,"div",123),t(2,"div"),l(3,"div",124),t(4,"div",125)(5,"div",126)(6,"div"),b(7,ae,2,1,"span",110)(8,oe,2,0,"svg",127),n()(),t(9,"div",128)(10,"h3",129),a(11),n(),t(12,"p",130),a(13),n()()(),t(14,"div",131),b(15,le,5,9,"label",132),n()()()),r&2){let e=c.$implicit,o=c.index,i=u(2);s(1),d("ngIf",i.respuestasSeleccionadas.has(e.id)),s(1),S(i.getCardClasses(e.id)),s(4),S(i.getBadgeClasses(e.id)),s(1),d("ngIf",!i.respuestasSeleccionadas.has(e.id)),s(1),d("ngIf",i.respuestasSeleccionadas.has(e.id)),s(3),E("Pregunta ",o+1,""),s(2),h(e.descripcion),s(2),d("ngForOf",e.Respuestas)}}function ce(r,c){r&1&&(m(),t(0,"svg",138),l(1,"path",139),n())}function ue(r,c){r&1&&(m(),t(0,"svg",140),l(1,"path",25),n())}function me(r,c){if(r&1&&(t(0,"span"),a(1),n()),r&2){let e=u(2);s(1),h(e.formularioCompleto()?"Enviar respuestas":e.datosPersonalesCompletos()?"Completa todas las preguntas":e.datosPersonales.barrioId?"Completa email o tel\xE9fono":"Selecciona un barrio")}}function pe(r,c){r&1&&(t(0,"span"),a(1,"Enviando..."),n())}function ge(r,c){r&1&&(t(0,"p",141),m(),t(1,"svg",99),l(2,"path",47),n(),a(3," Por favor selecciona un barrio "),n())}function ve(r,c){r&1&&(t(0,"p",141),m(),t(1,"svg",99),l(2,"path",47),n(),a(3," Por favor completa al menos un email o un tel\xE9fono "),n())}function xe(r,c){r&1&&(t(0,"p",141),m(),t(1,"svg",99),l(2,"path",47),n(),a(3," Por favor responde todas las preguntas antes de enviar "),n())}function be(r,c){if(r&1){let e=y();t(0,"div",49)(1,"div",50)(2,"div",51),l(3,"div",52),t(4,"div",53)(5,"div",22)(6,"div",54),l(7,"div",55),t(8,"div",56),m(),t(9,"svg",57),l(10,"path",44),n()()(),g(),t(11,"h1",35),a(12),n(),t(13,"p",58),a(14),n()(),t(15,"div",59)(16,"div",60)(17,"span",61),a(18,"Progreso de la encuesta"),n(),t(19,"span",62),a(20),n()(),t(21,"div",63),l(22,"div",64),n()()()(),t(23,"div",51),l(24,"div",65),t(25,"div",53)(26,"div",66)(27,"div",67),l(28,"div",68),t(29,"div",69),m(),t(30,"svg",70),l(31,"path",71),n()()(),g(),t(32,"div")(33,"h2",72),a(34,"Datos Personales"),n(),t(35,"p",73),a(36,"Por favor completa tus datos antes de responder"),n()()(),t(37,"div",74)(38,"div",75)(39,"label",76),a(40," Barrio "),t(41,"span",77),a(42,"*"),n()(),t(43,"div",67)(44,"div",67)(45,"input",78),f("ngModelChange",function(i){v(e);let p=u();return x(p.busquedaBarrio=i)})("focus",function(){v(e);let i=u();return x(i.abrirDropdownBarrios())})("blur",function(){v(e);let i=u();return x(i.cerrarDropdownBarrios())})("input",function(){v(e);let i=u();return x(i.filtrarBarrios())}),n(),t(46,"div",79),m(),t(47,"svg",80),l(48,"path",81),n()()(),b(49,ne,3,2,"div",82),n(),b(50,ie,4,0,"p",83),n(),g(),t(51,"div",84)(52,"label",76),a(53," Email "),t(54,"span",85),a(55,"*"),n()(),t(56,"input",86),f("ngModelChange",function(i){v(e);let p=u();return x(p.datosPersonales.email=i)}),n()(),t(57,"div",84)(58,"label",76),a(59," Tel\xE9fono "),t(60,"span",85),a(61,"*"),n()(),t(62,"input",87),f("ngModelChange",function(i){v(e);let p=u();return x(p.datosPersonales.telefono=i)}),n()(),t(63,"div",84)(64,"label",76),a(65,"G\xE9nero"),n(),t(66,"select",88),f("ngModelChange",function(i){v(e);let p=u();return x(p.datosPersonales.genero=i)}),t(67,"option",89),a(68,"Masculino"),n(),t(69,"option",90),a(70,"Femenino"),n(),t(71,"option",91),a(72,"No Binario (X)"),n()()(),t(73,"div",84)(74,"label",76),a(75,"Rango de Edad"),n(),t(76,"select",88),f("ngModelChange",function(i){v(e);let p=u();return x(p.datosPersonales.rangoEdad=i)}),t(77,"option",92),a(78,"18-25 a\xF1os"),n(),t(79,"option",93),a(80,"26-35 a\xF1os"),n(),t(81,"option",94),a(82,"36-45 a\xF1os"),n(),t(83,"option",95),a(84,"45+ a\xF1os"),n()()(),t(85,"div",84)(86,"label",76),a(87,"\xBFTiene cuenta SIGEM?"),n(),t(88,"select",88),f("ngModelChange",function(i){v(e);let p=u();return x(p.datosPersonales.sigem=i)}),t(89,"option",96),a(90,"No"),n(),t(91,"option",96),a(92,"S\xED"),n()()()(),t(93,"div",97)(94,"p",98),m(),t(95,"svg",99),l(96,"path",47),n(),a(97," El campo "),g(),t(98,"span",100),a(99,"barrio"),n(),a(100," es obligatorio. Debe completar al menos uno de los campos marcados con "),t(101,"span",101),a(102,"*"),n(),a(103," (email o tel\xE9fono) "),n()()()(),t(104,"div",102),b(105,de,16,10,"div",103),n(),t(106,"div",104),l(107,"div",105),t(108,"div",106)(109,"button",107),f("click",function(){v(e);let i=u();return x(i.enviarRespuestas())}),b(110,ce,2,0,"svg",108)(111,ue,2,0,"svg",109)(112,me,2,1,"span",110)(113,pe,2,0,"span",110),n(),b(114,ge,4,0,"p",111)(115,ve,4,0,"p",111)(116,xe,4,0,"p",111),n()()()()}if(r&2){let e=u();s(12),E(" ",e.encuesta==null?null:e.encuesta.titulo," "),s(2),h(e.encuesta==null?null:e.encuesta.descripcion),s(6),P(" ",e.respuestasSeleccionadas.size," / ",(e.encuesta==null||e.encuesta.Preguntas==null?null:e.encuesta.Preguntas.length)||0," "),s(2),M("width",e.respuestasSeleccionadas.size/((e.encuesta==null||e.encuesta.Preguntas==null?null:e.encuesta.Preguntas.length)||1)*100,"%"),s(23),w("border-red-400",!e.datosPersonales.barrioId&&e.respuestasSeleccionadas.size>0)("font-semibold",e.datosPersonales.barrioId&&!e.showDropdownBarrios),d("ngModel",e.busquedaBarrio),s(2),w("rotate-180",e.showDropdownBarrios),s(2),d("ngIf",e.showDropdownBarrios&&!e.cargandoBarrios),s(1),d("ngIf",e.cargandoBarrios),s(6),w("border-red-400",!e.datosPersonalesCompletos()&&e.respuestasSeleccionadas.size>0),d("ngModel",e.datosPersonales.email),s(6),w("border-red-400",!e.datosPersonalesCompletos()&&e.respuestasSeleccionadas.size>0),d("ngModel",e.datosPersonales.telefono),s(4),d("ngModel",e.datosPersonales.genero),s(10),d("ngModel",e.datosPersonales.rangoEdad),s(12),d("ngModel",e.datosPersonales.sigem),s(1),d("ngValue",!1),s(2),d("ngValue",!0),s(14),d("ngForOf",e.encuesta==null?null:e.encuesta.Preguntas),s(4),S(e.getSubmitButtonClasses()),d("disabled",!e.formularioCompleto()||e.enviando),s(1),d("ngIf",!e.enviando),s(1),d("ngIf",e.enviando),s(1),d("ngIf",!e.enviando),s(1),d("ngIf",e.enviando),s(1),d("ngIf",!e.datosPersonales.barrioId),s(1),d("ngIf",e.datosPersonales.barrioId&&!e.datosPersonalesCompletos()),s(1),d("ngIf",e.datosPersonalesCompletos()&&!e.todasLasPreguntasRespondidas())}}function fe(r,c){if(r&1){let e=y();t(0,"div",21)(1,"div",27),l(2,"div",142),t(3,"div",29)(4,"div",30),l(5,"div",143),t(6,"div",144),m(),t(7,"svg",145),l(8,"path",120),n()()(),g(),t(9,"h2",146),a(10," \xA1Encuesta completada! "),n(),t(11,"p",147),a(12," Tus respuestas han sido enviadas correctamente."),l(13,"br"),a(14," Gracias por tu participaci\xF3n. "),n(),t(15,"div",148)(16,"div",149)(17,"div",150),m(),t(18,"svg",151),l(19,"path",152),n()(),g(),t(20,"p",153),a(21),n()()(),t(22,"button",154),f("click",function(){v(e);let i=u();return x(i.reiniciarEncuesta())}),l(23,"div",155),m(),t(24,"svg",156),l(25,"path",25),n(),g(),t(26,"span",67),a(27,"Responder nuevamente"),n()(),t(28,"div",157),l(29,"div",158),t(30,"span"),a(31,"Tu participaci\xF3n es muy importante"),n(),l(32,"div",159),n()()()()}if(r&2){let e=u();s(21),E(" Se registraron ",e.encuesta==null||e.encuesta.Preguntas==null?null:e.encuesta.Preguntas.length," respuestas ")}}var Me=(()=>{class r{constructor(e,o,i,p,C,k,U){this.activatedRoute=e,this.encuestasService=o,this.authService=i,this.location=p,this.alertService=C,this.router=k,this.barriosService=U,this.respuestasSeleccionadas=new Map,this.enviando=!1,this.encuestaCompletada=!1,this.cargandoEncuesta=!0,this.datosPersonales={email:"",sigem:!1,genero:"Masculino",telefono:"",rangoEdad:"18-25",barrioId:null},this.barrios=[],this.barriosFiltrados=[],this.cargandoBarrios=!1,this.busquedaBarrio="",this.showDropdownBarrios=!1}ngOnInit(){this.alertService.loading(),this.authService.validarToken().subscribe({next:e=>{e?(this.cargarEncuesta(),this.cargarBarrios(),this.datosPersonales.barrioId&&(this.busquedaBarrio=this.getNombreBarrioSeleccionado())):this.router.navigate(["/login"])},error:()=>{this.router.navigate(["/login"])}})}cargarEncuesta(){this.activatedRoute.params.subscribe({next:({id:e})=>{this.encuestasService.obtenerEncuesta(e).subscribe({next:({encuesta:o})=>{this.encuesta=o,this.ordenarPreguntasYRespuestas(),this.cargandoEncuesta=!1,this.alertService.close()},error:({error:o})=>{this.cargandoEncuesta=!1,this.alertService.errorApi(o.message)}})}})}ordenarPreguntasYRespuestas(){this.encuesta&&this.encuesta.Preguntas&&(this.encuesta.Preguntas.sort((e,o)=>e.orden-o.orden),this.encuesta.Preguntas.forEach(e=>{e.Respuestas&&e.Respuestas.sort((o,i)=>o.orden-i.orden)}))}seleccionarRespuesta(e,o){this.respuestasSeleccionadas.set(e,o)}verificarRespuestaSeleccionada(e,o){return this.respuestasSeleccionadas.get(e)===o}todasLasPreguntasRespondidas(){return this.encuesta?.Preguntas?this.encuesta.Preguntas.length===this.respuestasSeleccionadas.size:!1}datosPersonalesCompletos(){let e=this.datosPersonales.email.trim()!==""||this.datosPersonales.telefono.trim()!=="",o=this.datosPersonales.barrioId!==null;return e&&o}formularioCompleto(){return this.datosPersonalesCompletos()&&this.todasLasPreguntasRespondidas()}enviarRespuestas(){if(!this.datosPersonalesCompletos()){this.datosPersonales.barrioId?this.alertService.errorApi("Por favor completa al menos un email o un tel\xE9fono"):this.alertService.errorApi("Por favor selecciona un barrio");return}if(!this.todasLasPreguntasRespondidas()){this.alertService.errorApi("Por favor responde todas las preguntas");return}let e=this.authService.usuario?.userId;if(!e){this.alertService.errorApi("Usuario no autenticado"),this.router.navigate(["/login"]);return}this.enviando=!0,this.alertService.loading();let o=Array.from(this.respuestasSeleccionadas.entries()).map(([i,p])=>({preguntaId:i,respuestaId:p}));this.encuestasService.responderEncuesta(String(this.encuesta.id),e,o,this.datosPersonales).subscribe({next:()=>{this.enviando=!1,this.encuestaCompletada=!0,this.alertService.close(),this.alertService.success("Encuesta respondida correctamente")},error:({error:i})=>{this.enviando=!1,this.alertService.errorApi(i.message)}})}reiniciarEncuesta(){this.respuestasSeleccionadas.clear(),this.encuestaCompletada=!1,this.datosPersonales={email:"",sigem:!1,genero:"Masculino",telefono:"",rangoEdad:"18-25",barrioId:null},this.busquedaBarrio="",this.barriosFiltrados=this.barrios,this.showDropdownBarrios=!1,window.scrollTo({top:0,behavior:"smooth"})}cargarBarrios(){this.cargandoBarrios=!0,this.barriosService.listarBarrios({direccion:"asc",columna:"descripcion",parametro:"",pagina:1,itemsPorPagina:1e3,activo:"true"}).subscribe({next:({barrios:e})=>{this.barrios=e,this.barriosFiltrados=e,this.cargandoBarrios=!1},error:e=>{console.error("Error al cargar barrios:",e),this.cargandoBarrios=!1,this.alertService.errorApi("Error al cargar la lista de barrios")}})}filtrarBarrios(){let e=this.busquedaBarrio.toLowerCase().trim();e?this.barriosFiltrados=this.barrios.filter(o=>o.descripcion.toLowerCase().includes(e)):this.barriosFiltrados=this.barrios}seleccionarBarrio(e){this.datosPersonales.barrioId=e.id,this.busquedaBarrio=e.descripcion,this.showDropdownBarrios=!1}getNombreBarrioSeleccionado(){if(!this.datosPersonales.barrioId)return"";let e=this.barrios.find(o=>o.id===this.datosPersonales.barrioId);return e?e.descripcion:""}abrirDropdownBarrios(){this.showDropdownBarrios=!0,this.busquedaBarrio="",this.barriosFiltrados=this.barrios}cerrarDropdownBarrios(){setTimeout(()=>{this.showDropdownBarrios=!1,this.datosPersonales.barrioId?this.busquedaBarrio=this.getNombreBarrioSeleccionado():this.busquedaBarrio=""},200)}getCardClasses(e){return`relative backdrop-blur-md rounded-2xl border-2 p-6 transition-all duration-500 shadow-xl bg-white/90 ${this.respuestasSeleccionadas.has(e)?"border-emerald-400/50 shadow-emerald-500/30":"border-gray-200"}`}getBadgeClasses(e){return`w-11 h-11 rounded-xl flex items-center justify-center text-white font-bold shadow-lg transition-all duration-300 ${this.respuestasSeleccionadas.has(e)?"bg-gradient-to-br from-emerald-500 to-teal-600 scale-110":"bg-gray-300"}`}getAnswerClasses(e,o){return this.verificarRespuestaSeleccionada(e,o)?"flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 hover:scale-105 border-emerald-400 bg-emerald-500/20 shadow-lg shadow-emerald-500/30":"flex items-center p-4 rounded-xl border-2 cursor-pointer transition-all duration-300 hover:scale-105 border-gray-300 bg-gray-50 hover:bg-gray-100"}getAnswerTextClasses(e,o){return`ml-3 flex-1 transition-colors duration-500 ${this.verificarRespuestaSeleccionada(e,o)?"text-slate-800 font-semibold":"text-slate-600"}`}getSubmitButtonClasses(){return this.formularioCompleto()&&!this.enviando?"w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center gap-3 border-2 bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white shadow-lg shadow-emerald-500/50 hover:shadow-xl hover:scale-105 border-emerald-400":"w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center gap-3 border-2 cursor-not-allowed bg-gray-200 text-gray-400 border-gray-300"}volver(){this.location.back()}static{this.\u0275fac=function(o){return new(o||r)(_(G),_(X),_(R),_(T),_($),_(L),_(Y))}}static{this.\u0275cmp=I({type:r,selectors:[["app-encuesta"]],standalone:!0,features:[B],decls:27,vars:6,consts:[[1,"min-h-screen","bg-gradient-to-br","from-sky-50","via-blue-50","to-indigo-100","relative","overflow-hidden"],[1,"relative","z-10"],[1,"bg-white/90","backdrop-blur-xl","border-b-2","border-gray-200","shadow-xl"],[1,"max-w-7xl","mx-auto","px-4","py-4","md:flex","md:items-center","md:justify-between"],[1,"flex","items-center","gap-4"],[1,"relative","group"],[1,"absolute","inset-0","bg-gradient-to-r","from-sky-400","to-emerald-400","rounded-2xl","blur-lg","opacity-50","group-hover:opacity-75","transition-all","duration-300"],[1,"relative","w-14","h-14","bg-white/10","backdrop-blur-sm","rounded-2xl","flex","items-center","justify-center","border-2","border-white/30"],["src","assets/svg/muni-encuestas-icon.svg","alt","Logo",1,"w-10","h-10","group-hover:scale-110","group-hover:rotate-6","transition-all"],[1,"text-xl","font-bold","text-slate-800"],["class","text-sm capitalize text-slate-600",4,"ngIf"],[1,"flex","items-center","ml-auto","md:ml-0","gap-2","mt-4","md:mt-0","px-4","py-2.5","rounded-xl","transition-all","duration-300","shadow-lg","hover:shadow-xl","hover:scale-105","border-2","bg-white","hover:bg-gray-50","text-slate-700","border-gray-300","hover:border-gray-400",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M10 19l-7-7m0 0l7-7m-7 7h18"],[1,"font-semibold"],["class","relative z-10 min-h-screen flex items-center justify-center py-8 px-4",4,"ngIf"],["class","relative z-10 py-8 px-4",4,"ngIf"],[1,"relative","z-10","py-6"],[1,"max-w-7xl","mx-auto","px-4","text-center"],[1,"text-sm","text-slate-500"],[1,"text-sm","capitalize","text-slate-600"],[1,"relative","z-10","min-h-screen","flex","items-center","justify-center","py-8","px-4"],[1,"text-center"],[1,"inline-flex","items-center","justify-center","w-24","h-24","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"animate-spin","w-16","h-16","text-emerald-600"],["stroke-linecap","round","stroke-linejoin","round","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"text-lg","font-medium","text-slate-600"],[1,"max-w-2xl","mx-auto"],[1,"absolute","inset-0","bg-gradient-to-r","from-red-500","to-rose-600","rounded-3xl","blur-3xl","opacity-20"],[1,"relative","bg-white/90","backdrop-blur-md","rounded-3xl","border-2","border-gray-200","shadow-2xl","p-12","text-center"],[1,"relative","inline-block","mb-6"],[1,"absolute","inset-0","bg-gradient-to-r","from-red-500","to-rose-600","rounded-full","blur-xl","opacity-50"],[1,"relative","w-24","h-24","bg-gradient-to-br","from-red-600","to-rose-700","rounded-full","flex","items-center","justify-center","shadow-xl"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","3",1,"w-12","h-12","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M6 18L18 6M6 6l12 12"],[1,"text-3xl","font-bold","mb-3","text-slate-800"],[1,"text-lg","mb-8","text-slate-600"],[1,"bg-gray-50","backdrop-blur-sm","rounded-2xl","p-6","border","border-gray-200"],[1,"text-xl","font-semibold","mb-2","text-slate-800"],[1,"text-slate-600"],[1,"absolute","inset-0","bg-gradient-to-r","from-amber-500","to-orange-600","rounded-3xl","blur-3xl","opacity-20"],[1,"absolute","inset-0","bg-gradient-to-r","from-amber-500","to-orange-600","rounded-full","blur-xl","opacity-50"],[1,"relative","w-24","h-24","bg-gradient-to-br","from-amber-600","to-orange-700","rounded-full","flex","items-center","justify-center","shadow-xl"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-12","h-12","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"bg-amber-50","backdrop-blur-sm","rounded-2xl","p-6","border","border-amber-200"],[1,"mt-4","flex","items-center","justify-center","gap-2","text-amber-700"],["stroke-linecap","round","stroke-linejoin","round","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-medium"],[1,"relative","z-10","py-8","px-4"],[1,"max-w-3xl","mx-auto"],[1,"relative","mb-8"],[1,"absolute","inset-0","bg-gradient-to-r","from-emerald-500","to-teal-600","rounded-3xl","blur-3xl","opacity-20"],[1,"relative","bg-white/90","backdrop-blur-md","rounded-3xl","border-2","border-gray-200","shadow-2xl","p-8"],[1,"relative","inline-block","mb-4"],[1,"absolute","inset-0","bg-gradient-to-r","from-emerald-500","to-teal-600","rounded-full","blur-xl","opacity-50"],[1,"relative","w-16","h-16","bg-gradient-to-br","from-emerald-500","to-teal-600","rounded-full","flex","items-center","justify-center","shadow-xl"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-8","h-8","text-white"],[1,"text-lg","text-slate-600"],[1,"mt-6","pt-6","border-t","border-gray-300"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","font-medium","text-slate-700"],[1,"text-sm","font-semibold","text-emerald-600"],[1,"w-full","bg-gray-200","rounded-full","h-3","overflow-hidden","backdrop-blur-sm"],[1,"bg-gradient-to-r","from-emerald-500","to-teal-500","h-3","rounded-full","transition-all","duration-500","shadow-lg"],[1,"absolute","inset-0","bg-gradient-to-r","from-blue-500","to-indigo-600","rounded-3xl","blur-3xl","opacity-20"],[1,"flex","items-center","gap-3","mb-6","pb-4","border-b","border-gray-300"],[1,"relative"],[1,"absolute","inset-0","bg-gradient-to-r","from-blue-500","to-indigo-600","rounded-full","blur-lg","opacity-50"],[1,"relative","w-12","h-12","bg-gradient-to-br","from-blue-500","to-indigo-600","rounded-full","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"text-2xl","font-bold","text-slate-800"],[1,"text-sm","text-slate-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"space-y-2","md:col-span-2"],[1,"block","text-sm","font-semibold","text-slate-700"],[1,"text-red-500"],["type","text","placeholder","Buscar barrio...","autocomplete","off",1,"w-full","px-4","py-3","pr-10","rounded-xl","border-2","border-gray-300","focus:border-blue-500","focus:ring-4","focus:ring-blue-500/20","transition-all","duration-300","bg-white/50","backdrop-blur-sm",3,"ngModel","ngModelChange","focus","blur","input"],[1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-5","h-5","text-gray-400",2,"transition","transform 0.2s"],["stroke-linecap","round","stroke-linejoin","round","d","M19 9l-7 7-7-7"],["class","barrios-dropdown absolute z-50 w-full mt-2 bg-white rounded-xl border-2 border-gray-300 shadow-xl max-h-60 overflow-auto",4,"ngIf"],["class","text-xs text-gray-500 flex items-center gap-1",4,"ngIf"],[1,"space-y-2"],[1,"text-orange-500"],["type","email","placeholder","correo@gmail.com",1,"w-full","px-4","py-3","rounded-xl","border-2","border-gray-300","focus:border-blue-500","focus:ring-4","focus:ring-blue-500/20","transition-all","duration-300","bg-white/50","backdrop-blur-sm",3,"ngModel","ngModelChange"],["type","tel","placeholder","2664869642",1,"w-full","px-4","py-3","rounded-xl","border-2","border-gray-300","focus:border-blue-500","focus:ring-4","focus:ring-blue-500/20","transition-all","duration-300","bg-white/50","backdrop-blur-sm",3,"ngModel","ngModelChange"],[1,"w-full","px-4","py-3","rounded-xl","border-2","border-gray-300","focus:border-blue-500","focus:ring-4","focus:ring-blue-500/20","transition-all","duration-300","bg-white/50","backdrop-blur-sm",3,"ngModel","ngModelChange"],["value","Masculino"],["value","Femenino"],["value","No Binario (X)"],["value","18-25"],["value","26-35"],["value","36-45"],["value","45+"],[3,"ngValue"],[1,"mt-6","pt-4","border-t","border-gray-200"],[1,"text-xs","text-slate-500","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-4","h-4"],[1,"text-red-500","font-bold"],[1,"text-orange-500","font-bold"],[1,"space-y-6"],["class","relative group",4,"ngFor","ngForOf"],[1,"mt-8","relative"],[1,"absolute","inset-0","bg-gradient-to-r","from-emerald-500","to-teal-600","rounded-2xl","blur-2xl","opacity-20"],[1,"relative","bg-white/90","backdrop-blur-md","rounded-2xl","border-2","border-gray-200","shadow-2xl","p-6"],[3,"disabled","click"],["class","w-6 h-6","fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",4,"ngIf"],["class","animate-spin w-6 h-6","fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",4,"ngIf"],[4,"ngIf"],["class","text-center text-sm mt-4 flex items-center justify-center gap-2 text-slate-500",4,"ngIf"],[1,"barrios-dropdown","absolute","z-50","w-full","mt-2","bg-white","rounded-xl","border-2","border-gray-300","shadow-xl","max-h-60","overflow-auto"],["class","px-4 py-3 text-sm text-gray-500 text-center",4,"ngIf"],["type","button","class","w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors duration-150 flex items-center justify-between group",3,"bg-blue-100","mousedown",4,"ngFor","ngForOf"],[1,"px-4","py-3","text-sm","text-gray-500","text-center"],["type","button",1,"w-full","text-left","px-4","py-3","hover:bg-blue-50","transition-colors","duration-150","flex","items-center","justify-between","group",3,"mousedown"],[1,"text-slate-700","group-hover:text-blue-600"],["class","w-5 h-5 text-blue-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-5","h-5","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","d","M5 13l4 4L19 7"],[1,"text-xs","text-gray-500","flex","items-center","gap-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"animate-spin","w-3","h-3"],["class","absolute inset-0 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl blur-xl opacity-30 transition-all duration-500",4,"ngIf"],[1,"absolute","top-0","right-0","w-32","h-32","bg-gradient-to-br","from-emerald-400/10","to-transparent","rounded-full","blur-2xl"],[1,"relative","flex","items-start","gap-4","mb-4"],[1,"flex-shrink-0"],["class","w-6 h-6","fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","3",4,"ngIf"],[1,"flex-1"],[1,"text-lg","font-semibold","mb-1","text-emerald-700"],[1,"leading-relaxed","text-slate-700"],[1,"ml-0","md:ml-15","space-y-3","mt-6"],[3,"class",4,"ngFor","ngForOf"],[1,"absolute","inset-0","bg-gradient-to-r","from-emerald-500","to-teal-500","rounded-2xl","blur-xl","opacity-30","transition-all","duration-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","3",1,"w-6","h-6"],["type","radio",1,"w-5","h-5","text-emerald-500","focus:ring-emerald-500","bg-white/20",3,"name","value","checked","change"],["class","w-6 h-6 text-emerald-300 ml-2","fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","3",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","3",1,"w-6","h-6","text-emerald-300","ml-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"animate-spin","w-6","h-6"],[1,"text-center","text-sm","mt-4","flex","items-center","justify-center","gap-2","text-slate-500"],[1,"absolute","inset-0","bg-gradient-to-r","from-emerald-500","to-teal-600","rounded-3xl","blur-3xl","opacity-30","animate-pulse"],[1,"absolute","inset-0","bg-gradient-to-r","from-emerald-500","to-teal-600","rounded-full","blur-2xl","opacity-60","animate-pulse"],[1,"relative","w-28","h-28","bg-gradient-to-br","from-emerald-500","to-teal-600","rounded-full","flex","items-center","justify-center","shadow-2xl","animate-bounce"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","3",1,"w-14","h-14","text-white"],[1,"text-4xl","font-bold","mb-4","text-slate-800"],[1,"text-lg","mb-8","leading-relaxed","text-slate-600"],[1,"bg-emerald-50","backdrop-blur-sm","rounded-2xl","p-6","mb-8","border","border-emerald-200"],[1,"flex","items-center","justify-center","gap-3"],[1,"w-10","h-10","bg-emerald-200","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"w-6","h-6","text-emerald-700"],["stroke-linecap","round","stroke-linejoin","round","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"font-semibold","text-slate-800"],[1,"group","relative","inline-flex","items-center","gap-3","px-8","py-4","bg-gradient-to-r","from-sky-600","to-blue-600","hover:from-sky-700","hover:to-blue-700","text-white","font-semibold","rounded-xl","shadow-xl","hover:shadow-2xl","hover:shadow-sky-500/50","transition-all","duration-300","border-2","border-sky-500/50","hover:border-sky-400","hover:scale-105",3,"click"],[1,"absolute","inset-0","bg-gradient-to-r","from-sky-400","to-blue-400","rounded-xl","blur-lg","opacity-0","group-hover:opacity-40","transition-opacity","duration-300"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","stroke-width","2",1,"relative","w-6","h-6","group-hover:rotate-180","transition-transform","duration-500"],[1,"mt-8","flex","items-center","justify-center","gap-2","text-sm","text-slate-500"],[1,"w-2","h-2","bg-emerald-400","rounded-full","animate-pulse"],[1,"w-2","h-2","bg-emerald-400","rounded-full","animate-pulse",2,"animation-delay","0.5s"]],template:function(o,i){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),l(6,"div",6),t(7,"div",7),l(8,"img",8),n()(),t(9,"div")(10,"h1",9),a(11," Responder Encuesta "),n(),b(12,J,2,2,"p",10),n()(),t(13,"button",11),f("click",function(){return i.volver()}),m(),t(14,"svg",12),l(15,"path",13),n(),g(),t(16,"span",14),a(17,"Volver"),n()()()()(),b(18,K,7,0,"div",15)(19,Q,18,2,"div",15)(20,W,23,2,"div",15)(21,be,117,37,"div",16)(22,fe,33,1,"div",15),t(23,"div",17)(24,"div",18)(25,"p",19),a(26," \xA9 2025 Municipalidad - Todos los derechos reservados "),n()()()()),o&2&&(s(12),d("ngIf",i.authService.usuario),s(6),d("ngIf",i.cargandoEncuesta),s(1),d("ngIf",!i.cargandoEncuesta&&(i.encuesta==null?null:i.encuesta.estado)!=="Activa"&&!i.encuestaCompletada),s(1),d("ngIf",!i.cargandoEncuesta&&(i.encuesta==null?null:i.encuesta.estado)==="Activa"&&(!(i.encuesta!=null&&i.encuesta.Preguntas)||(i.encuesta==null||i.encuesta.Preguntas==null?null:i.encuesta.Preguntas.length)===0)&&!i.encuestaCompletada),s(1),d("ngIf",!i.cargandoEncuesta&&(i.encuesta==null?null:i.encuesta.estado)==="Activa"&&(i.encuesta==null?null:i.encuesta.Preguntas)&&(i.encuesta==null||i.encuesta.Preguntas==null?null:i.encuesta.Preguntas.length)>0&&!i.encuestaCompletada),s(1),d("ngIf",!i.cargandoEncuesta&&i.encuestaCompletada))},dependencies:[F,V,j,q,N,O,A,H,z,D],styles:[".barrios-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.barrios-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:10px}.barrios-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:10px}.barrios-dropdown[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}"]})}}return r})();export{Me as default};
